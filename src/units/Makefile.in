#include @PETSC_INCLUDE_FILE_GENERIC@
#include @SLEPC_INCLUDE_FILE_GENERIC@
include sources.make

#INCPATHS = @INCLUDEFLAGS@ ${PETSC_CC_INCLUDES} ${SLEPC_CC_INCLUDES}
INCPATHS = -Iinclude @INCLUDEFLAGS@

OBJS=$(SOURCES:.cpp=.o)
TARGET=lib/libncpaunits.a


all: $(TARGET)

.PHONY: clean test

# link	
$(TARGET): $(OBJS)
	mkdir -p lib/
	ar curv $@ $^
#	cp $@ ../../lib
	
# compile 
%.o: %.cpp
	${CXX} ${INCPATHS} @CXXFLAGS@ ${CXX_FLAGS} @WARNINGFLAGS@ -o $@ $<

test::
	$(MAKE) -C test test

clean::
	-$(RM) -rf $(OBJS) $(TARGET)
